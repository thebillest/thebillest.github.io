{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///theater.min.js","webpack:///webpack/bootstrap 0bad551932a46a2f3272","webpack:///./src/theaterJS.js","webpack:///./src/actor.js","webpack:///./src/helpers/type.js","webpack:///./src/helpers/utils.js","webpack:///./src/helpers/keyboard.js","webpack:///./src/keyboards.json","webpack:///./src/helpers/html.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","theaterJS","addActor","actorName","options","arguments","undefined","callback","a","_actor2","props","casting","name","setCurrentActor","onStage","getCurrentActor","addScene","_this","scenes","_helpersUtils2","toArray","forEach","scene","_helpersType2","isString","partials","split","charAt","shift","erase","actor","speech","join","replace","sceneObj","args","isFunction","isNumber","s","isObject","unshift","playNextScene","bind","scenario","push","autoplay","play","status","replay","done","currentScene","stop","publish","nextScene","typeAction","apply","eraseAction","callbackAction","waitAction","console","debug","value","locale","minSpeed","maxSpeed","initialValue","displayValue","cursor","isFixing","previousMistakeCursor","previousFixCursor","htmlMap","_helpersHtml2","map","strip","type","actual","substr","expected","isMistaking","shouldBeMistaken","shouldFix","inject","nextChar","_helpersKeyboard2","randomCharNear","setTimeout","getTypingSpeed","arg","speed","nbCharactersToErase","delay","subscribe","events","eventName","trim","_arguments","slice","callbacks","concat","merge","DEFAULTS","global","navigator","languages","supports","defaultLocale","Object","freeze","defineProperties","on","get","configurable","enumerable","defineProperty","_actor","_helpersUtils","_helpersType","_helpersKeyboard","_helpersHtml","eval","init","theater","accuracy","$element","document","selector","$e","querySelector","Error","newValue","innerHTML","log","fastest","slowest","randomFloat","getPercentageOf","endValue","nbOfCharactersTyped","maxWrongCharactersAllowed","minCharactersBetweenMistakes","Math","max","set","toString","o","ar","dst","objs","len","key","hasOwnProperty","random","min","floor","percentage","mapKeyboard","alphabet","keyboard","y","lines","chars","x","charsLength","_type","_type2","_utils","_utils2","_keyboardsJson","_keyboardsJson2","DEFAULT_LOCALE","list","mapped","ch","threshold","nearbyChars","uppercase","test","toLowerCase","charPosition","abs","randomChar","toUpperCase","en","fr","da","de","pl","pt","ru","str","regexp","tags","openers","result","tag","exec","tagName","position","index","opener","pop"],"mappings":"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","file":"theater.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"theaterJS\"] = factory();\n\telse\n\t\troot[\"theaterJS\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"theaterJS\"] = factory();\n\telse\n\t\troot[\"theaterJS\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\t\n\tvar _actor = __webpack_require__(1);\n\t\n\tvar _actor2 = _interopRequireDefault(_actor);\n\t\n\tvar _helpersUtils = __webpack_require__(3);\n\t\n\tvar _helpersUtils2 = _interopRequireDefault(_helpersUtils);\n\t\n\tvar _helpersType = __webpack_require__(2);\n\t\n\tvar _helpersType2 = _interopRequireDefault(_helpersType);\n\t\n\tvar _helpersKeyboard = __webpack_require__(4);\n\t\n\tvar _helpersKeyboard2 = _interopRequireDefault(_helpersKeyboard);\n\t\n\tvar _helpersHtml = __webpack_require__(6);\n\t\n\tvar _helpersHtml2 = _interopRequireDefault(_helpersHtml);\n\t\n\tvar DEFAULTS = { autoplay: true, erase: true, minSpeed: 80, maxSpeed: 450, locale: 'detect' };\n\t\n\tvar global = (1, eval)('this');\n\t\n\tfunction theaterJS() {\n\t  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t  /* ------------------------------------------------- *\\\n\t    init\n\t  \\* ------------------------------------------------- */\n\t\n\t  options = _helpersUtils2['default'].merge({}, DEFAULTS, options);\n\t\n\t  if (options.locale === 'detect' && global != null && global.navigator != null) {\n\t    if (_helpersType2['default'].isArray(global.navigator.languages) && _helpersType2['default'].isString(global.navigator.languages[0])) {\n\t      options.locale = global.navigator.languages[0].substr(0, 2);\n\t    }\n\t  }\n\t\n\t  if (!_helpersKeyboard2['default'].supports(options.locale)) {\n\t    options.locale = _helpersKeyboard2['default'].defaultLocale;\n\t  }\n\t\n\t  var props = { options: options, casting: {}, status: 'ready', onStage: null, currentScene: -1, scenario: [], events: {} };\n\t  setCurrentActor(null);\n\t\n\t  /* ------------------------------------------------- *\\\n\t    methods\n\t  \\* ------------------------------------------------- */\n\t\n\t  function addActor(actorName) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t    var callback = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t    var a = (0, _actor2['default'])(actorName, options, callback);\n\t    props.casting[a.name] = a;\n\t\n\t    return this;\n\t  }\n\t\n\t  function setCurrentActor(actorName) {\n\t    props.onStage = actorName;\n\t    return this;\n\t  }\n\t\n\t  function getCurrentActor() {\n\t    return props.casting[props.onStage] || null;\n\t  }\n\t\n\t  function addScene() {\n\t    var _this = this;\n\t\n\t    var scenes = _helpersUtils2['default'].toArray(arguments);\n\t\n\t    scenes.forEach(function (scene) {\n\t      if (_helpersType2['default'].isString(scene)) {\n\t        var partials = scene.split(':');\n\t\n\t        var actorName = undefined;\n\t        if (partials.length > 1 && partials[0].charAt(partials[0].length - 1) !== '\\\\') {\n\t          actorName = partials.shift();\n\t\n\t          if (props.options.erase) {\n\t            addScene({ name: 'erase', actor: actorName });\n\t          }\n\t        }\n\t\n\t        var speech = partials.join(':').replace(/\\\\:/g, ':');\n\t        var sceneObj = { name: 'type', args: [speech] };\n\t\n\t        if (actorName != null) {\n\t          sceneObj.actor = actorName;\n\t        }\n\t\n\t        addScene(sceneObj);\n\t      } else if (_helpersType2['default'].isFunction(scene)) {\n\t        addScene({ name: 'callback', args: [scene] });\n\t      } else if (_helpersType2['default'].isNumber(scene)) {\n\t        if (scene > 0) {\n\t          addScene({ name: 'wait', args: [scene] });\n\t        } else {\n\t          addScene({ name: 'erase', args: [scene] });\n\t        }\n\t      } else if (_helpersType2['default'].isArray(scene)) {\n\t        scene.forEach(function (s) {\n\t          addScene(s);\n\t        });\n\t      } else if (_helpersType2['default'].isObject(scene)) {\n\t        if (!_helpersType2['default'].isArray(scene.args)) {\n\t          scene.args = [];\n\t        }\n\t\n\t        scene.args.unshift(playNextScene.bind(_this));\n\t        props.scenario.push(scene);\n\t      }\n\t    });\n\t\n\t    if (props.options.autoplay) play();\n\t\n\t    return this;\n\t  }\n\t\n\t  function play() {\n\t    if (props.status === 'ready') {\n\t      props.status = 'playing';\n\t      playNextScene();\n\t    }\n\t\n\t    return this;\n\t  }\n\t\n\t  function replay(done) {\n\t    if (props.status === 'ready' || _helpersType2['default'].isFunction(done)) {\n\t      props.currentScene = -1;\n\t\n\t      if (props.status === 'ready') play();else done();\n\t    }\n\t\n\t    return this;\n\t  }\n\t\n\t  function stop() {\n\t    props.status = 'ready';\n\t    return this;\n\t  }\n\t\n\t  function playNextScene() {\n\t    if (props.status !== 'playing') return this;\n\t\n\t    var currentScene = props.scenario[props.currentScene];\n\t\n\t    if (currentScene != null) publish(currentScene.name + ':end', currentScene);\n\t\n\t    if (props.currentScene + 1 >= props.scenario.length) {\n\t      props.status = 'ready';\n\t      return this;\n\t    }\n\t\n\t    var nextScene = props.scenario[++props.currentScene];\n\t\n\t    if (nextScene.actor) {\n\t      setCurrentActor(nextScene.actor);\n\t    }\n\t\n\t    publish(nextScene.name + ':start', nextScene);\n\t\n\t    switch (nextScene.name) {\n\t      case 'type':\n\t        typeAction.apply(undefined, _toConsumableArray(nextScene.args));\n\t        break;\n\t\n\t      case 'erase':\n\t        eraseAction.apply(undefined, _toConsumableArray(nextScene.args));\n\t        break;\n\t\n\t      case 'callback':\n\t        callbackAction.apply(undefined, _toConsumableArray(nextScene.args));\n\t        break;\n\t\n\t      case 'wait':\n\t        waitAction.apply(undefined, _toConsumableArray(nextScene.args));\n\t        break;\n\t\n\t      default:\n\t        console.debug('No scene handler for ' + nextScene.name);\n\t        break;\n\t    }\n\t\n\t    return this;\n\t  }\n\t\n\t  function typeAction(done, value) {\n\t    var actor = getCurrentActor();\n\t\n\t    var locale = props.options.locale;\n\t    var minSpeed = props.options.minSpeed;\n\t    var maxSpeed = props.options.maxSpeed;\n\t    var initialValue = actor.displayValue;\n\t    var cursor = -1;\n\t    var isFixing = false;\n\t    var previousMistakeCursor = null;\n\t    var previousFixCursor = null;\n\t\n\t    var htmlMap = _helpersHtml2['default'].map(value);\n\t    value = _helpersHtml2['default'].strip(value);(function type() {\n\t      var actual = _helpersHtml2['default'].strip(actor.displayValue.substr(initialValue.length));\n\t\n\t      if (actual === value) return done();\n\t\n\t      var expected = value.substr(0, cursor + 1);\n\t\n\t      var isMistaking = actual !== expected;\n\t      var shouldBeMistaken = actor.shouldBeMistaken(actual, value, previousMistakeCursor, previousFixCursor);\n\t      var shouldFix = isFixing || !shouldBeMistaken;\n\t\n\t      if (isMistaking && shouldFix) {\n\t        isFixing = true;\n\t        previousMistakeCursor = null;\n\t        actor.displayValue = initialValue + _helpersHtml2['default'].inject(actual.substr(0, actual.length - 1), htmlMap);\n\t        cursor--;\n\t        previousFixCursor = cursor;\n\t      } else {\n\t        isFixing = false;\n\t        var nextChar = value.charAt(++cursor);\n\t\n\t        if (shouldBeMistaken) {\n\t          nextChar = _helpersKeyboard2['default'].randomCharNear(nextChar, locale);\n\t\n\t          if (previousMistakeCursor == null) {\n\t            previousMistakeCursor = cursor;\n\t          }\n\t        }\n\t\n\t        actor.displayValue = initialValue + _helpersHtml2['default'].inject(actual + nextChar, htmlMap);\n\t      }\n\t\n\t      return setTimeout(type, actor.getTypingSpeed(minSpeed, maxSpeed));\n\t    })();\n\t\n\t    return this;\n\t  }\n\t\n\t  function eraseAction(done, arg) {\n\t    var actor = getCurrentActor();\n\t\n\t    var minSpeed = props.options.minSpeed;\n\t    var maxSpeed = props.options.maxSpeed;\n\t\n\t    var value = actor.displayValue;\n\t    var htmlMap = _helpersHtml2['default'].map(value);\n\t\n\t    value = _helpersHtml2['default'].strip(value);\n\t\n\t    var cursor = value.length;\n\t\n\t    var speed = undefined;\n\t    var nbCharactersToErase = 0;\n\t\n\t    if (_helpersType2['default'].isNumber(arg)) {\n\t      if (arg > 0) speed = arg;else nbCharactersToErase = value.length + arg;\n\t    }\n\t\n\t    (function erase() {\n\t      if (cursor === nbCharactersToErase) return done();\n\t      actor.displayValue = _helpersHtml2['default'].inject(value.substr(0, --cursor), htmlMap);\n\t\n\t      return setTimeout(erase, speed || actor.getTypingSpeed(minSpeed, maxSpeed));\n\t    })();\n\t\n\t    return this;\n\t  }\n\t\n\t  function callbackAction(done, callback) {\n\t    callback.call(this, done);\n\t    return this;\n\t  }\n\t\n\t  function waitAction(done, delay) {\n\t    setTimeout(done.bind(this), delay);\n\t    return this;\n\t  }\n\t\n\t  function subscribe(events, callback) {\n\t    events.split(',').forEach(function (eventName) {\n\t      eventName = eventName.trim();\n\t\n\t      if (!_helpersType2['default'].isArray(props.events[eventName])) {\n\t        props.events[eventName] = [];\n\t      }\n\t\n\t      props.events[eventName].push(callback);\n\t    });\n\t\n\t    return this;\n\t  }\n\t\n\t  function publish(eventName) {\n\t    var _arguments = arguments;\n\t\n\t    if (_helpersType2['default'].isArray(props.events[eventName])) {\n\t      (function () {\n\t        var args = [].slice.call(_arguments, 1);\n\t        args.unshift(eventName);\n\t\n\t        var callbacks = (props.events[eventName] || []).concat(props.events['*'] || []);\n\t        callbacks.forEach(function (callback) {\n\t          callback.apply(undefined, _toConsumableArray(args));\n\t        });\n\t      })();\n\t    }\n\t\n\t    return this;\n\t  }\n\t\n\t  /* ------------------------------------------------- *\\\n\t    public api\n\t  \\* ------------------------------------------------- */\n\t\n\t  return Object.freeze(Object.defineProperties({\n\t    addActor: addActor,\n\t    getCurrentActor: getCurrentActor,\n\t    addScene: addScene,\n\t    play: play,\n\t    replay: replay,\n\t    stop: stop,\n\t    on: subscribe\n\t  }, {\n\t    options: {\n\t      get: function get() {\n\t        return props.options;\n\t      },\n\t      configurable: true,\n\t      enumerable: true\n\t    },\n\t    status: {\n\t      get: function get() {\n\t        return props.status;\n\t      },\n\t      configurable: true,\n\t      enumerable: true\n\t    }\n\t  }));\n\t}\n\t\n\ttheaterJS.init = function () {\n\t  var actorName = arguments.length <= 0 || arguments[0] === undefined ? 'actor' : arguments[0];\n\t\n\t  var theater = theaterJS();\n\t  theater.addActor(actorName, { accuracy: 1, speed: 0.8 });\n\t  return theater;\n\t};\n\t\n\texports['default'] = theaterJS;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _helpersType = __webpack_require__(2);\n\t\n\tvar _helpersType2 = _interopRequireDefault(_helpersType);\n\t\n\tvar _helpersUtils = __webpack_require__(3);\n\t\n\tvar _helpersUtils2 = _interopRequireDefault(_helpersUtils);\n\t\n\tvar DEFAULTS = { speed: 0.6, accuracy: 0.6 };\n\tvar global = (1, eval)('this');\n\t\n\texports['default'] = function (actorName) {\n\t  var props = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t  var callback = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t  var displayValue = '';\n\t  var $element = undefined;\n\t\n\t  if (_helpersType2['default'].isNumber(props)) {\n\t    props = { speed: props, accuracy: props };\n\t  }\n\t\n\t  props = _helpersUtils2['default'].merge({}, DEFAULTS, props);\n\t\n\t  if (global != null && global.document != null) {\n\t    if (callback == null) {\n\t      callback = '#' + actorName;\n\t    }\n\t\n\t    if (_helpersType2['default'].isString(callback)) {\n\t      var selector = callback;\n\t      var $e = global.document.querySelector(selector);\n\t\n\t      if ($e != null) {\n\t        $element = $e;\n\t        callback = function (newValue) {\n\t          $element.innerHTML = newValue;\n\t        };\n\t      } else {\n\t        throw new Error('no matches for ' + actorName + '\\'s selector: ' + selector);\n\t      }\n\t    }\n\t  }\n\t\n\t  if (!_helpersType2['default'].isFunction(callback)) {\n\t    callback = console.log.bind(console);\n\t  }\n\t\n\t  return Object.defineProperties({\n\t    $element: $element,\n\t\n\t    getTypingSpeed: function getTypingSpeed(fastest, slowest) {\n\t      var speed = _helpersUtils2['default'].randomFloat(props.speed, 1);\n\t      return _helpersUtils2['default'].getPercentageOf(slowest, fastest, speed);\n\t    },\n\t\n\t    shouldBeMistaken: function shouldBeMistaken(actual, endValue) {\n\t      var previousMistakeCursor = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t      var previousFixCursor = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];\n\t\n\t      var accuracy = props.accuracy * 10;\n\t\n\t      if (accuracy >= 8) {\n\t        return false;\n\t      }\n\t\n\t      if (actual.length <= accuracy) {\n\t        return false;\n\t      }\n\t\n\t      if (actual.length === endValue.length) {\n\t        return false;\n\t      }\n\t\n\t      if (_helpersType2['default'].isNumber(previousMistakeCursor)) {\n\t        var nbOfCharactersTyped = actual.length - previousMistakeCursor;\n\t        var maxWrongCharactersAllowed = accuracy >= 6 ? 10 - accuracy : 4;\n\t\n\t        if (nbOfCharactersTyped >= maxWrongCharactersAllowed) {\n\t          return false;\n\t        }\n\t      }\n\t\n\t      if (_helpersType2['default'].isNumber(previousFixCursor)) {\n\t        var nbOfCharactersTyped = actual.length - previousFixCursor;\n\t        var minCharactersBetweenMistakes = Math.max(accuracy, 2) * 2;\n\t\n\t        if (nbOfCharactersTyped <= minCharactersBetweenMistakes) {\n\t          return false;\n\t        }\n\t      }\n\t\n\t      return _helpersUtils2['default'].randomFloat(0, 0.8) > props.accuracy;\n\t    }\n\t  }, {\n\t    displayValue: {\n\t      get: function get() {\n\t        return displayValue;\n\t      },\n\t      set: function set(value) {\n\t        displayValue = value;\n\t        callback(value);\n\t      },\n\t      configurable: true,\n\t      enumerable: true\n\t    },\n\t    name: {\n\t      get: function get() {\n\t        return actorName;\n\t      },\n\t      configurable: true,\n\t      enumerable: true\n\t    }\n\t  });\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\tfunction toString(o) {\n\t  return ({}).toString.call(o);\n\t}\n\t\n\texports['default'] = {\n\t  isNumber: function isNumber(o) {\n\t    return typeof o === 'number';\n\t  },\n\t\n\t  isString: function isString(o) {\n\t    return toString(o) === '[object String]';\n\t  },\n\t\n\t  isObject: function isObject(o) {\n\t    return toString(o) === '[object Object]';\n\t  },\n\t\n\t  isArray: function isArray(o) {\n\t    return toString(o) === '[object Array]';\n\t  },\n\t\n\t  isFunction: function isFunction(o) {\n\t    return typeof o === 'function';\n\t  }\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports[\"default\"] = {\n\t  toArray: function toArray(ar) {\n\t    return [].slice.call(ar);\n\t  },\n\t\n\t  merge: function merge(dst) {\n\t    var objs = [].slice.call(arguments, 1);\n\t\n\t    for (var i = 0, len = objs.length; i < len; i++) {\n\t      var obj = objs[i];\n\t\n\t      for (var key in obj) {\n\t        if (!obj.hasOwnProperty(key)) continue;\n\t        dst[key] = obj[key];\n\t      }\n\t    }\n\t\n\t    return dst;\n\t  },\n\t\n\t  random: function random(min, max) {\n\t    return Math.floor(Math.random() * (max - min + 1)) + min;\n\t  },\n\t\n\t  randomFloat: function randomFloat(min, max) {\n\t    return Math.random() * (max - min) + min;\n\t  },\n\t\n\t  getPercentageOf: function getPercentageOf(min, max, percentage) {\n\t    return min - min * percentage + max * percentage;\n\t  }\n\t};\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _type = __webpack_require__(2);\n\t\n\tvar _type2 = _interopRequireDefault(_type);\n\t\n\tvar _utils = __webpack_require__(3);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _keyboardsJson = __webpack_require__(5);\n\t\n\tvar _keyboardsJson2 = _interopRequireDefault(_keyboardsJson);\n\t\n\tvar DEFAULT_LOCALE = 'en';\n\t\n\tfor (var locale in _keyboardsJson2['default']) {\n\t  if (!_keyboardsJson2['default'].hasOwnProperty(locale)) continue;\n\t\n\t  var keyboard = _keyboardsJson2['default'][locale];\n\t  _keyboardsJson2['default'][locale] = { list: keyboard, mapped: mapKeyboard(keyboard) };\n\t}\n\t\n\tfunction mapKeyboard(alphabet) {\n\t  var keyboard = {};\n\t\n\t  for (var y = 0, lines = alphabet.length, chars = undefined; y < lines; y++) {\n\t    chars = alphabet[y];\n\t\n\t    for (var x = 0, charsLength = chars.length; x < charsLength; x++) {\n\t      keyboard[chars[x]] = { x: x, y: y };\n\t    }\n\t  }\n\t\n\t  return keyboard;\n\t}\n\t\n\texports['default'] = {\n\t  defaultLocale: DEFAULT_LOCALE,\n\t\n\t  supports: function supports(locale) {\n\t    return _type2['default'].isObject(_keyboardsJson2['default'][locale]);\n\t  },\n\t\n\t  randomCharNear: function randomCharNear(ch, locale) {\n\t    if (!this.supports(locale)) {\n\t      throw new Error('locale \"' + locale + '\" is not supported');\n\t    }\n\t\n\t    var keyboard = _keyboardsJson2['default'][locale].mapped;\n\t    var threshold = 1;\n\t    var nearbyChars = [];\n\t    var uppercase = /[A-Z]/.test(ch);\n\t\n\t    ch = ch.toLowerCase();\n\t\n\t    var charPosition = keyboard[ch] || [];\n\t    var p = undefined;\n\t\n\t    for (var c in keyboard) {\n\t      if (!keyboard.hasOwnProperty(c) || c === ch) continue;\n\t\n\t      p = keyboard[c];\n\t\n\t      if (Math.abs(charPosition.x - p.x) <= threshold && Math.abs(charPosition.y - p.y) <= threshold) {\n\t        nearbyChars.push(c);\n\t      }\n\t    }\n\t\n\t    var randomChar = nearbyChars.length > 0 ? nearbyChars[_utils2['default'].random(0, nearbyChars.length - 1)] : this.randomChar(locale);\n\t\n\t    if (uppercase) {\n\t      randomChar = randomChar.toUpperCase();\n\t    }\n\t\n\t    return randomChar;\n\t  },\n\t\n\t  randomChar: function randomChar(locale) {\n\t    if (!this.supports(locale)) {\n\t      throw new Error('locale \"' + locale + '\" is not supported');\n\t    }\n\t\n\t    var chars = _keyboardsJson2['default'][locale].list.join('');\n\t    return chars.charAt(_utils2['default'].random(0, chars.length - 1));\n\t  }\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"en\": [\n\t\t\t\"qwertyuiop\",\n\t\t\t\"asdfghjkl\",\n\t\t\t\"zxcvbnm\"\n\t\t],\n\t\t\"fr\": [\n\t\t\t\"azertyuiop\",\n\t\t\t\"qsdfghjklm\",\n\t\t\t\"wxcvbn\"\n\t\t],\n\t\t\"da\": [\n\t\t\t\"qwertyuiopå\",\n\t\t\t\"asdfghjklæø\",\n\t\t\t\"zxcvbnm\"\n\t\t],\n\t\t\"de\": [\n\t\t\t\"qwertzuiopü\",\n\t\t\t\"asdfghjklöä\",\n\t\t\t\"yxcvbnm\"\n\t\t],\n\t\t\"pl\": [\n\t\t\t\"qwertyuiopęó\",\n\t\t\t\"asdfghjkląśł\",\n\t\t\t\"zxcvbnmżźćń\"\n\t\t],\n\t\t\"pt\": [\n\t\t\t\"qwertyuiop\",\n\t\t\t\"asdfghjklç\",\n\t\t\t\"zxcvbnm\"\n\t\t],\n\t\t\"ru\": [\n\t\t\t\"йцукенгшщзх\",\n\t\t\t\"фывапролджэ\",\n\t\t\t\"ячсмитьбюъ\"\n\t\t]\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\texports['default'] = {\n\t  strip: function strip(str) {\n\t    return str.replace(/(<([^>]+)>)/gi, '');\n\t  },\n\t\n\t  map: function map(str) {\n\t    var regexp = /<[^>]+>/gi;\n\t    var tags = [];\n\t    var openers = [];\n\t    var result = undefined;\n\t    var tag = undefined;\n\t\n\t    while (result = regexp.exec(str)) {\n\t      tag = {\n\t        tagName: result[0],\n\t        position: result.index\n\t      };\n\t\n\t      if (tag.tagName.charAt(1) === '/') tag.opener = openers.pop();else if (tag.tagName.charAt(tag.tagName.length - 2) !== '/') openers.push(tag);\n\t\n\t      tags.push(tag);\n\t    }\n\t\n\t    return tags;\n\t  },\n\t\n\t  inject: function inject(str, map) {\n\t    for (var i = 0, tag = undefined; i < map.length; i++) {\n\t      tag = map[i];\n\t\n\t      if (str.length > 0 && tag.position <= str.length) {\n\t        str = str.substr(0, tag.position) + tag.tagName + str.substr(tag.position);\n\t      } else if (tag.opener && tag.opener.position < str.length) {\n\t        str += tag.tagName;\n\t      }\n\t    }\n\t\n\t    return str;\n\t  }\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** theater.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0bad551932a46a2f3272\n **/","import actor from './actor'\nimport utils from './helpers/utils'\nimport type from './helpers/type'\nimport keyboard from './helpers/keyboard'\nimport html from './helpers/html'\n\nconst DEFAULTS = { autoplay: true, erase: true, minSpeed: 80, maxSpeed: 450, locale: 'detect' }\n\nlet global = (1, eval)('this')\n\nfunction theaterJS (options = {}) {\n  /* ------------------------------------------------- *\\\n    init\n  \\* ------------------------------------------------- */\n\n  options = utils.merge({}, DEFAULTS, options)\n\n  if (options.locale === 'detect' && global != null && global.navigator != null) {\n    if (type.isArray(global.navigator.languages) && type.isString(global.navigator.languages[0])) {\n      options.locale = global.navigator.languages[0].substr(0, 2)\n    }\n  }\n\n  if (!keyboard.supports(options.locale)) {\n    options.locale = keyboard.defaultLocale\n  }\n\n  let props = { options, casting: {}, status: 'ready', onStage: null, currentScene: -1, scenario: [], events: {} }\n  setCurrentActor(null)\n\n  /* ------------------------------------------------- *\\\n    methods\n  \\* ------------------------------------------------- */\n\n  function addActor (actorName, options = {}, callback = null) {\n    let a = actor(actorName, options, callback)\n    props.casting[a.name] = a\n\n    return this\n  }\n\n  function setCurrentActor (actorName) {\n    props.onStage = actorName\n    return this\n  }\n\n  function getCurrentActor () {\n    return props.casting[props.onStage] || null\n  }\n\n  function addScene () {\n    let scenes = utils.toArray(arguments)\n\n    scenes.forEach(scene => {\n      if (type.isString(scene)) {\n        let partials = scene.split(':')\n\n        let actorName\n        if (partials.length > 1 && partials[0].charAt(partials[0].length - 1) !== '\\\\') {\n          actorName = partials.shift()\n\n          if (props.options.erase) {\n            addScene({ name: 'erase', actor: actorName })\n          }\n        }\n\n        let speech = partials.join(':').replace(/\\\\:/g, ':')\n        let sceneObj = { name: 'type', args: [speech] }\n\n        if (actorName != null) {\n          sceneObj.actor = actorName\n        }\n\n        addScene(sceneObj)\n      } else if (type.isFunction(scene)) {\n        addScene({ name: 'callback', args: [scene] })\n      } else if (type.isNumber(scene)) {\n        if (scene > 0) {\n          addScene({ name: 'wait', args: [scene] })\n        } else {\n          addScene({ name: 'erase', args: [scene] })\n        }\n      } else if (type.isArray(scene)) {\n        scene.forEach(function (s) { addScene(s) })\n      } else if (type.isObject(scene)) {\n        if (!type.isArray(scene.args)) {\n          scene.args = []\n        }\n\n        scene.args.unshift(playNextScene.bind(this))\n        props.scenario.push(scene)\n      }\n    })\n\n    if (props.options.autoplay) play()\n\n    return this\n  }\n\n  function play () {\n    if (props.status === 'ready') {\n      props.status = 'playing'\n      playNextScene()\n    }\n\n    return this\n  }\n\n  function replay (done) {\n    if (props.status === 'ready' || type.isFunction(done)) {\n      props.currentScene = -1\n\n      if (props.status === 'ready') play()\n      else done()\n    }\n\n    return this\n  }\n\n  function stop () {\n    props.status = 'ready'\n    return this\n  }\n\n  function playNextScene () {\n    if (props.status !== 'playing') return this\n\n    let currentScene = props.scenario[props.currentScene]\n\n    if (currentScene != null) publish(`${currentScene.name}:end`, currentScene)\n\n    if (props.currentScene + 1 >= props.scenario.length) {\n      props.status = 'ready'\n      return this\n    }\n\n    let nextScene = props.scenario[++props.currentScene]\n\n    if (nextScene.actor) {\n      setCurrentActor(nextScene.actor)\n    }\n\n    publish(`${nextScene.name}:start`, nextScene)\n\n    switch (nextScene.name) {\n      case 'type':\n        typeAction(...nextScene.args)\n        break\n\n      case 'erase':\n        eraseAction(...nextScene.args)\n        break\n\n      case 'callback':\n        callbackAction(...nextScene.args)\n        break\n\n      case 'wait':\n        waitAction(...nextScene.args)\n        break\n\n      default:\n        console.debug(`No scene handler for ${nextScene.name}`)\n        break\n    }\n\n    return this\n  }\n\n  function typeAction (done, value) {\n    let actor = getCurrentActor()\n\n    let locale = props.options.locale\n    let minSpeed = props.options.minSpeed\n    let maxSpeed = props.options.maxSpeed\n    let initialValue = actor.displayValue\n    let cursor = -1\n    let isFixing = false\n    let previousMistakeCursor = null\n    let previousFixCursor = null\n\n    let htmlMap = html.map(value)\n    value = html.strip(value)\n\n    ;(function type () {\n      let actual = html.strip(actor.displayValue.substr(initialValue.length))\n\n      if (actual === value) return done()\n\n      let expected = value.substr(0, cursor + 1)\n\n      let isMistaking = actual !== expected\n      let shouldBeMistaken = actor.shouldBeMistaken(actual, value, previousMistakeCursor, previousFixCursor)\n      let shouldFix = isFixing || !shouldBeMistaken\n\n      if (isMistaking && shouldFix) {\n        isFixing = true\n        previousMistakeCursor = null\n        actor.displayValue = initialValue + html.inject(actual.substr(0, actual.length - 1), htmlMap)\n        cursor--\n        previousFixCursor = cursor\n      } else {\n        isFixing = false\n        let nextChar = value.charAt(++cursor)\n\n        if (shouldBeMistaken) {\n          nextChar = keyboard.randomCharNear(nextChar, locale)\n\n          if (previousMistakeCursor == null) {\n            previousMistakeCursor = cursor\n          }\n        }\n\n        actor.displayValue = initialValue + html.inject(actual + nextChar, htmlMap)\n      }\n\n      return setTimeout(type, actor.getTypingSpeed(minSpeed, maxSpeed))\n    })()\n\n    return this\n  }\n\n  function eraseAction (done, arg) {\n    let actor = getCurrentActor()\n\n    let minSpeed = props.options.minSpeed\n    let maxSpeed = props.options.maxSpeed\n\n    let value = actor.displayValue\n    let htmlMap = html.map(value)\n\n    value = html.strip(value)\n\n    let cursor = value.length\n\n    let speed\n    let nbCharactersToErase = 0\n\n    if (type.isNumber(arg)) {\n      if (arg > 0) speed = arg\n      else nbCharactersToErase = value.length + arg\n    }\n\n    (function erase () {\n      if (cursor === nbCharactersToErase) return done()\n      actor.displayValue = html.inject(value.substr(0, --cursor), htmlMap)\n\n      return setTimeout(erase, speed || actor.getTypingSpeed(minSpeed, maxSpeed))\n    })()\n\n    return this\n  }\n\n  function callbackAction (done, callback) {\n    callback.call(this, done)\n    return this\n  }\n\n  function waitAction (done, delay) {\n    setTimeout(done.bind(this), delay)\n    return this\n  }\n\n  function subscribe (events, callback) {\n    events.split(',').forEach(eventName => {\n      eventName = eventName.trim()\n\n      if (!type.isArray(props.events[eventName])) {\n        props.events[eventName] = []\n      }\n\n      props.events[eventName].push(callback)\n    })\n\n    return this\n  }\n\n  function publish (eventName) {\n    if (type.isArray(props.events[eventName])) {\n      let args = [].slice.call(arguments, 1)\n      args.unshift(eventName)\n\n      let callbacks = (props.events[eventName] || []).concat(props.events['*'] || [])\n      callbacks.forEach((callback) => { callback(...args) })\n    }\n\n    return this\n  }\n\n  /* ------------------------------------------------- *\\\n    public api\n  \\* ------------------------------------------------- */\n\n  return Object.freeze({\n    get options () { return props.options },\n    get status () { return props.status },\n    addActor,\n    getCurrentActor,\n    addScene,\n    play,\n    replay,\n    stop,\n    on: subscribe\n  })\n}\n\ntheaterJS.init = function (actorName = 'actor') {\n  let theater = theaterJS()\n  theater.addActor(actorName, { accuracy: 1, speed: 0.8 })\n  return theater\n}\n\nexport default theaterJS\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/theaterJS.js\n **/","import type from './helpers/type'\nimport utils from './helpers/utils'\n\nconst DEFAULTS = { speed: 0.6, accuracy: 0.6 }\nlet global = (1, eval)('this')\n\nexport default function (actorName, props = {}, callback = null) {\n  let displayValue = ''\n  let $element\n\n  if (type.isNumber(props)) {\n    props = { speed: props, accuracy: props }\n  }\n\n  props = utils.merge({}, DEFAULTS, props)\n\n  if (global != null && global.document != null) {\n    if (callback == null) {\n      callback = `#${actorName}`\n    }\n\n    if (type.isString(callback)) {\n      let selector = callback\n      let $e = global.document.querySelector(selector)\n\n      if ($e != null) {\n        $element = $e\n        callback = function (newValue) { $element.innerHTML = newValue }\n      } else {\n        throw new Error(`no matches for ${actorName}'s selector: ${selector}`)\n      }\n    }\n  }\n\n  if (!type.isFunction(callback)) {\n    callback = console.log.bind(console)\n  }\n\n  return {\n    $element,\n\n    get displayValue () {\n      return displayValue\n    },\n\n    set displayValue (value) {\n      displayValue = value\n      callback(value)\n    },\n\n    get name () {\n      return actorName\n    },\n\n    getTypingSpeed (fastest, slowest) {\n      let speed = utils.randomFloat(props.speed, 1)\n      return utils.getPercentageOf(slowest, fastest, speed)\n    },\n\n    shouldBeMistaken (actual, endValue, previousMistakeCursor = null, previousFixCursor = null) {\n      let accuracy = props.accuracy * 10\n\n      if (accuracy >= 8) {\n        return false\n      }\n\n      if (actual.length <= accuracy) {\n        return false\n      }\n\n      if (actual.length === endValue.length) {\n        return false\n      }\n\n      if (type.isNumber(previousMistakeCursor)) {\n        let nbOfCharactersTyped = actual.length - previousMistakeCursor\n        let maxWrongCharactersAllowed = accuracy >= 6 ? 10 - accuracy : 4\n\n        if (nbOfCharactersTyped >= maxWrongCharactersAllowed) {\n          return false\n        }\n      }\n\n      if (type.isNumber(previousFixCursor)) {\n        let nbOfCharactersTyped = actual.length - previousFixCursor\n        let minCharactersBetweenMistakes = Math.max(accuracy, 2) * 2\n\n        if (nbOfCharactersTyped <= minCharactersBetweenMistakes) {\n          return false\n        }\n      }\n\n      return utils.randomFloat(0, 0.8) > props.accuracy\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/actor.js\n **/","function toString (o) {\n  return {}.toString.call(o)\n}\n\nexport default {\n  isNumber: function (o) {\n    return typeof o === 'number'\n  },\n\n  isString: function (o) {\n    return toString(o) === '[object String]'\n  },\n\n  isObject: function (o) {\n    return toString(o) === '[object Object]'\n  },\n\n  isArray: function (o) {\n    return toString(o) === '[object Array]'\n  },\n\n  isFunction: function (o) {\n    return typeof o === 'function'\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/type.js\n **/","export default {\n  toArray (ar) {\n    return [].slice.call(ar)\n  },\n\n  merge (dst) {\n    let objs = [].slice.call(arguments, 1)\n\n    for (let i = 0, len = objs.length; i < len; i++) {\n      let obj = objs[i]\n\n      for (let key in obj) {\n        if (!obj.hasOwnProperty(key)) continue\n        dst[key] = obj[key]\n      }\n    }\n\n    return dst\n  },\n\n  random (min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min\n  },\n\n  randomFloat (min, max) {\n    return Math.random() * (max - min) + min\n  },\n\n  getPercentageOf (min, max, percentage) {\n    return (min - (min * percentage)) + (max * percentage)\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/utils.js\n **/","import type from './type'\nimport utils from './utils'\nimport keyboards from '../keyboards.json'\nconst DEFAULT_LOCALE = 'en'\n\nfor (let locale in keyboards) {\n  if (!keyboards.hasOwnProperty(locale)) continue\n\n  let keyboard = keyboards[locale]\n  keyboards[locale] = { list: keyboard, mapped: mapKeyboard(keyboard) }\n}\n\nfunction mapKeyboard (alphabet) {\n  let keyboard = {}\n\n  for (let y = 0, lines = alphabet.length, chars; y < lines; y++) {\n    chars = alphabet[y]\n\n    for (let x = 0, charsLength = chars.length; x < charsLength; x++) {\n      keyboard[chars[x]] = { x: x, y: y }\n    }\n  }\n\n  return keyboard\n}\n\nexport default {\n  defaultLocale: DEFAULT_LOCALE,\n\n  supports (locale) {\n    return type.isObject(keyboards[locale])\n  },\n\n  randomCharNear (ch, locale) {\n    if (!this.supports(locale)) {\n      throw new Error(`locale \"${locale}\" is not supported`)\n    }\n\n    let keyboard = keyboards[locale].mapped\n    let threshold = 1\n    let nearbyChars = []\n    let uppercase = /[A-Z]/.test(ch)\n\n    ch = ch.toLowerCase()\n\n    let charPosition = keyboard[ch] || []\n    let p\n\n    for (let c in keyboard) {\n      if (!keyboard.hasOwnProperty(c) || c === ch) continue\n\n      p = keyboard[c]\n\n      if (Math.abs(charPosition.x - p.x) <= threshold && Math.abs(charPosition.y - p.y) <= threshold) {\n        nearbyChars.push(c)\n      }\n    }\n\n    let randomChar =\n      nearbyChars.length > 0\n      ? nearbyChars[utils.random(0, nearbyChars.length - 1)]\n      : this.randomChar(locale)\n\n    if (uppercase) {\n      randomChar = randomChar.toUpperCase()\n    }\n\n    return randomChar\n  },\n\n  randomChar: function (locale) {\n    if (!this.supports(locale)) {\n      throw new Error(`locale \"${locale}\" is not supported`)\n    }\n\n    let chars = keyboards[locale].list.join('')\n    return chars.charAt(utils.random(0, chars.length - 1))\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/keyboard.js\n **/","module.exports = {\n\t\"en\": [\n\t\t\"qwertyuiop\",\n\t\t\"asdfghjkl\",\n\t\t\"zxcvbnm\"\n\t],\n\t\"fr\": [\n\t\t\"azertyuiop\",\n\t\t\"qsdfghjklm\",\n\t\t\"wxcvbn\"\n\t],\n\t\"da\": [\n\t\t\"qwertyuiopå\",\n\t\t\"asdfghjklæø\",\n\t\t\"zxcvbnm\"\n\t],\n\t\"de\": [\n\t\t\"qwertzuiopü\",\n\t\t\"asdfghjklöä\",\n\t\t\"yxcvbnm\"\n\t],\n\t\"pl\": [\n\t\t\"qwertyuiopęó\",\n\t\t\"asdfghjkląśł\",\n\t\t\"zxcvbnmżźćń\"\n\t],\n\t\"pt\": [\n\t\t\"qwertyuiop\",\n\t\t\"asdfghjklç\",\n\t\t\"zxcvbnm\"\n\t],\n\t\"ru\": [\n\t\t\"йцукенгшщзх\",\n\t\t\"фывапролджэ\",\n\t\t\"ячсмитьбюъ\"\n\t]\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/keyboards.json\n ** module id = 5\n ** module chunks = 0\n **/","export default {\n  strip (str) {\n    return str.replace(/(<([^>]+)>)/gi, '')\n  },\n\n  map (str) {\n    let regexp = /<[^>]+>/gi\n    let tags = []\n    let openers = []\n    let result\n    let tag\n\n    while ((result = regexp.exec(str))) {\n      tag = {\n        tagName: result[0],\n        position: result.index\n      }\n\n      if (tag.tagName.charAt(1) === '/') tag.opener = openers.pop()\n      else if (tag.tagName.charAt(tag.tagName.length - 2) !== '/') openers.push(tag)\n\n      tags.push(tag)\n    }\n\n    return tags\n  },\n\n  inject (str, map) {\n    for (let i = 0, tag; i < map.length; i++) {\n      tag = map[i]\n\n      if (str.length > 0 && tag.position <= str.length) {\n        str = str.substr(0, tag.position) + tag.tagName + str.substr(tag.position)\n      } else if (tag.opener && tag.opener.position < str.length) {\n        str += tag.tagName\n      }\n    }\n\n    return str\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/html.js\n **/"],"sourceRoot":""}